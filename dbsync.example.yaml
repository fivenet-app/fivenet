enabled: true

stateFile: "dbsync.state.yaml"

destination:
  # Host + port to your FiveNet instance (requires HTTPS/valid TLS certs)
  url: "example.fivenet.app"
  token: "YOUR_SYNC_API_TOKEN"
  insecure: false

source:
  # Refer to https://github.com/go-sql-driver/mysql#dsn-data-source-name for details
  dsn: "DB_USER:DB_PASS@tcp(DB_HOST:DB_PORT)/DB_NAME?collation=utf8mb4_unicode_ci&parseTime=True&loc=Europe%2FBerlin"

# A query for each "piece of data" FiveNet needs to function
tables:
  # The example queries here are for the ESX framework
  jobs:
    # Must return `name`, `label` columns
    enabled: true
    query: |
      SELECT
        `name`,
        `label`
      FROM
        `jobs`
      LIMIT $limit
      OFFSET $offset;
  jobGrades:
    # Must return `job_name`, `grade`, `label` columns (with condition for the `job_name`)
    enabled: true
    query:
      SELECT
        `job_name`,
        `grade`,
        `name`,
        `label`
      FROM
        `job_grades`
      LIMIT $limit
      OFFSET $offset;
  licenses:
    # Must return `type`, `label` columns
    enabled: true
    query: |
      SELECT
        `type`,
        `label`
      FROM
        `licenses`
      LIMIT $limit
      OFFSET $offset;
  users:
    # Must return `id`, `identifier`, `group`, `firstname`, `lastname`, `dateofbirth`, `job`, `job_grade`, `sex`, `phone_number` columns
    # Optional columns: `height`, `visum`, `playtime`
    enabled: true
    updatedTimeColumn: "last_seen"
    query: |
      SELECT
        `id`,
        `identifier`,
        `group`,
        `firstname`,
        `lastname`,
        `dateofbirth`,
        `job`,
        `job_grade`,
        `sex`,
        `phone_number`,
        `height`,
        `visum`,
        `playtime`
      FROM
        `users`
      $whereCondition
      LIMIT $limit
      OFFSET $offset;
  userLicenses:
    # Must return `type`, `owner` columns
    enabled: true
    query: |
      SELECT
        `type`,
        `owner`
      FROM
        `user_licenses`
      LIMIT $limit
      OFFSET $offset;
  vehicles:
    # Must return `owner`, `plate`, `type`, `model` columns
    enabled: true
    query: |
      SELECT
        `owner`,
        `plate`,
        `type`,
        `model`
      FROM
        `owned_vehicles`
      LIMIT $limit
      OFFSET $offset;
